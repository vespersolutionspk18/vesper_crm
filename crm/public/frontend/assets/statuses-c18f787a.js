import{i as $,b as m,c as h,g as b,w as S,e as x,d as p,u as d,t as D,F as w,f as L,n as M,l as R,an as A,y,aj as C,B as I}from"./index-9a3d44ca.js";import{b as B,_ as k}from"./global-005ed632.js";import{I as V}from"./IndicatorIcon-8bdc1dd8.js";const F={class:"flex items-center gap-2 text-base"},j={class:"truncate"},G={__name:"MultipleAvatar",props:{avatars:{type:Array,default:[]},size:{type:String,default:"md"}},setup(a){const i=a,f=$(()=>i.avatars.reverse());return(g,v)=>{var o,r,l;return(o=a.avatars)!=null&&o.length?(m(),h("div",{key:0,class:M(["mr-1.5 flex cursor-pointer items-center",[((r=a.avatars)==null?void 0:r.length)>1?"flex-row-reverse":"truncate [&>div]:truncate"]])},[((l=a.avatars)==null?void 0:l.length)==1?(m(),b(d(k),{key:0,text:a.avatars[0].name},{default:S(()=>[x("div",F,[p(d(B),{shape:"circle",image:a.avatars[0].image,label:a.avatars[0].label,size:a.size},null,8,["image","label","size"]),x("div",j,D(a.avatars[0].label),1)])]),_:1},8,["text"])):(m(!0),h(w,{key:1},L(f.value,n=>(m(),b(d(k),{text:n.name,key:n.name},{default:S(()=>[p(d(B),{class:"user-avatar -mr-1.5 transform ring-2 ring-white transition hover:z-10 hover:scale-110",shape:"circle",image:n.image,label:n.label,size:a.size,"data-name":n.name},null,8,["image","label","size","data-name"])]),_:2},1032,["text"]))),128))],2)):R("",!0)}}},H=A("crm-statuses",()=>{let a=y({}),i=y({}),f=y({});const g=C({doctype:"CRM Lead Status",fields:["name","color","position"],orderBy:"position asc",cache:"lead-statuses",initialData:[],auto:!0,transform(e){for(let t of e)t.colorClass=r(t.color),t.iconColorClass=r(t.color,!0),a[t.name]=t;return e}}),v=C({doctype:"CRM Deal Status",fields:["name","color","position"],orderBy:"position asc",cache:"deal-statuses",initialData:[],auto:!0,transform(e){for(let t of e)t.colorClass=r(t.color),t.iconColorClass=r(t.color,!0),i[t.name]=t;return e}}),o=C({doctype:"CRM Communication Status",fields:["name"],cache:"communication-statuses",initialData:[],auto:!0,transform(e){for(let t of e)f[t.name]=t;return e}});function r(e,t=!1){let s=`!text-${e}-600`;e=="black"?s="!text-gray-900":["gray","green"].includes(e)&&(s=`!text-${e}-700`);let c=`!bg-${e}-100 hover:!bg-${e}-200 active:!bg-${e}-300`;return[s,t?"":c]}function l(e){return e||(e=g.data[0].name),a[e]}function n(e){return e||(e=v.data[0].name),i[e]}function z(e){return e||(e=o.data[0].name),o[e]}function N(e,t){let s=e=="deal"?i:a,c=[];for(const u in s)c.push({label:s[u].name,value:s[u].name,icon:()=>I(V,{class:s[u].iconColorClass}),onClick:()=>{t&&t("status",s[u].name)}});return c}return{leadStatuses:g,dealStatuses:v,communicationStatuses:o,getLeadStatus:l,getDealStatus:n,getCommunicationStatus:z,statusOptions:N}});export{G as _,H as s};
//# sourceMappingURL=statuses-c18f787a.js.map
